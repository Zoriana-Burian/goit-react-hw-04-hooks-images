(this["webpackJsonpgoit-react-hw-04-hooks-images"]=this["webpackJsonpgoit-react-hw-04-hooks-images"]||[]).push([[0],{10:function(e,t,a){e.exports={Butt:"Button_Butt__1Qp13",Button:"Button_Button__1LO78"}},11:function(e,t,a){e.exports={ImageGalleryItem:"ImageGalleryItem_ImageGalleryItem__JOO9_",ImageGalleryItemImage:"ImageGalleryItem_ImageGalleryItemImage__3H5a4"}},12:function(e,t,a){e.exports={Overlay:"Modal_Overlay__9sm9N",Modal:"Modal_Modal___Ghxj"}},23:function(e,t,a){e.exports={ImageGallery:"ImageGallery_ImageGallery__3DFNP"}},25:function(e,t,a){e.exports={loader:"Loader_loader__3-DiC"}},26:function(e,t,a){e.exports={section:"Section_section__1T5wc"}},31:function(e,t,a){},5:function(e,t,a){e.exports={Searchbar:"Searchbar_Searchbar__IzGc9",SearchForm:"Searchbar_SearchForm__gA819",SearchFormButton:"Searchbar_SearchFormButton__2j8ou",SearchFormButtonLabel:"Searchbar_SearchFormButtonLabel__3q7Pq",SearchFormInput:"Searchbar_SearchFormInput__3aL-m"}},71:function(e,t,a){"use strict";a.r(t);var n=a(1),c=a.n(n),r=a(7),o=a.n(r),i=(a(31),a(13)),l=a(4),u=a(22),s=a.n(u),m={fetchHitsImages:function(e){var t=e.searchQuery,a=void 0===t?"":t,n=e.currentPage,c=void 0===n?1:n;return s.a.get("https://pixabay.com/api/?key=19054407-f71c417dea239df63beb23abd&q=".concat(a,"&page=").concat(c,"&image_type=photo&orientation=horizontal&per_page=12")).then((function(e){return e.data.hits}))}},b=a(5),j=a.n(b),h=a(0);function d(e){var t=e.onSubmit,a=Object(n.useState)(""),c=Object(l.a)(a,2),r=c[0],o=c[1];return Object(h.jsx)("header",{className:j.a.Searchbar,children:Object(h.jsxs)("form",{className:j.a.SearchForm,onSubmit:function(e){e.preventDefault(),t(r),o("")},children:[Object(h.jsx)("button",{type:"submit",className:j.a.SearchFormButton,children:Object(h.jsx)("span",{className:j.a.SearchFormButtonLabel,children:"Search"})}),Object(h.jsx)("input",{onChange:function(e){o(e.currentTarget.value)},className:j.a.SearchFormInput,type:"text",autoComplete:"off",autoFocus:!0,placeholder:"Search images and photos"})]})})}var O=a(10),f=a.n(O),g=function(e){var t=e.onButton;return Object(h.jsx)("div",{className:f.a.Butt,children:Object(h.jsx)("button",{className:f.a.Button,type:"button",onClick:t,children:"Load more"})})},_=a(11),p=a.n(_),S=function(e){var t=e.webformatURL,a=e.largeImageURL,n=e.clickOpenModal;return Object(h.jsx)("li",{className:p.a.ImageGalleryItem,children:Object(h.jsx)("img",{className:p.a.ImageGalleryItemImage,src:t,"data-source":a,onClick:n,alt:""})})},x=a(23),v=a.n(x),I=function(e){var t=e.hits,a=e.clickOpenModal;return Object(h.jsx)("ul",{className:v.a.ImageGallery,children:t.map((function(e){var t=e.id,n=e.webformatURL,c=e.largeImageURL;return Object(h.jsx)(S,{webformatURL:n,largeImageURL:c,clickOpenModal:a},t)}))})},y=a(12),F=a.n(y),B=document.querySelector("#modal-root");function L(e){var t=e.onClickModal,a=e.largeImageURL;Object(n.useEffect)((function(){return window.addEventListener("keydown",c),function(){window.removeEventListener("keydown",c)}}));var c=function(e){"Escape"===e.code&&t()};return Object(r.createPortal)(Object(h.jsx)("div",{className:F.a.Overlay,onClick:function(e){e.currentTarget===e.target&&t()},children:Object(h.jsx)("div",{children:Object(h.jsx)("img",{className:F.a.Modal,src:a,alt:""})})}),B)}var w=a(24),k=a.n(w),N=a(25),G=a.n(N);function C(){return Object(h.jsx)("div",{className:G.a.loader,children:Object(h.jsx)(k.a,{type:"Circles",color:"#00BFFF",height:100,width:100,timeout:0})})}var M=a(26),R=a.n(M);var U=function(e){var t=e.children;return Object(h.jsx)("div",{className:R.a.section,children:t})};function E(){var e=Object(n.useState)([]),t=Object(l.a)(e,2),a=t[0],c=t[1],r=Object(n.useState)(1),o=Object(l.a)(r,2),u=o[0],s=o[1],b=Object(n.useState)(""),j=Object(l.a)(b,2),O=j[0],f=j[1],_=Object(n.useState)(""),p=Object(l.a)(_,2),S=p[0],x=p[1],v=Object(n.useState)(!1),y=Object(l.a)(v,2),F=y[0],B=y[1],w=Object(n.useState)(!1),k=Object(l.a)(w,2),N=k[0],G=k[1],M=Object(n.useState)(null),R=Object(l.a)(M,2),E=R[0],P=R[1];Object(n.useEffect)((function(){if(O){B(!0),m.fetchHitsImages({searchQuery:O,currentPage:u}).then((function(e){c((function(t){return[].concat(Object(i.a)(t),Object(i.a)(e))}))})).catch((function(e){return P(e)})).finally((function(){return B(!1)}))}}),[u,O]);var T=function(){G((function(e){return!N}))};return Object(h.jsxs)("div",{children:[E&&Object(h.jsx)("h1",{children:" \u041f\u0435\u0440\u0435\u0437\u0430\u0432\u0430\u043d\u0442\u0430\u0436\u0442\u0435, \u0431\u0443\u0434\u044c \u043b\u0430\u0441\u043a\u0430, \u0449\u0435 \u0440\u0430\u0437 \u0441\u0442\u043e\u0440\u0456\u043d\u043a\u0443 "}),Object(h.jsxs)(U,{children:[N&&Object(h.jsx)(L,{onClickModal:T,largeImageURL:S}),Object(h.jsx)(d,{onSubmit:function(e){f(e),s(1),c([]),P(null)}}),Object(h.jsx)(I,{hits:a,clickOpenModal:function(e){x(e.target.dataset.source),T()}}),F&&Object(h.jsx)(C,{}),a.length>0&&!F&&Object(h.jsx)(g,{onButton:function(){s((function(e){return u+1}))},onScroll:void window.scrollBy({top:document.documentElement.clientHeight-100,behavior:"smooth"})})]})]})}var P=function(e){e&&e instanceof Function&&a.e(3).then(a.bind(null,72)).then((function(t){var a=t.getCLS,n=t.getFID,c=t.getFCP,r=t.getLCP,o=t.getTTFB;a(e),n(e),c(e),r(e),o(e)}))};o.a.render(Object(h.jsx)(c.a.StrictMode,{children:Object(h.jsx)(E,{})}),document.getElementById("root")),P()}},[[71,1,2]]]);
//# sourceMappingURL=main.dd0ee89e.chunk.js.map